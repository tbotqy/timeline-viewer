$(function(){$(".list-years").find("li").mouseover(function(){var a=$(this);$(".list-years").find("a").removeClass("btn-primary selected");a.find('a').addClass("btn-primary selected");$("#wrap-list-months").find("ul").css('display','none');$("#wrap-list-days").find("ul").css('display','none');var b=a.attr('data-date');$("#wrap-list-months").find("."+b).css('display','block')});$(".list-months").find("li").mouseover(function(){var a=$(this);$(".list-months").find("li").find("a").removeClass("btn-primary selected");a.find('a').addClass("btn-primary selected");$("#wrap-list-days").find("ul").css('display','none');var b=a.attr('data-date');$("#wrap-list-days").find("."+b).css('display','block')});if('pushState'in history){$("#wrap-term-selectors").find("a").click(function(e){var b=$(this);e.preventDefault();var c=b.attr('href');var d=b.attr('data-date');var f=b.attr('data-date-type');var g=$("#wrap-timeline");g.html("<div class=\"cover\"><span>Loading</span></div>");var h=g.find('.cover');h.css("height",200);h.animate({opacity:0.8},200);var i=location.pathname;var j=detectActionType(i);$.ajax({type:'GET',dataType:'html',url:'/ajax/switch_term',data:{"date":d,"date_type":f,"action_type":j},success:function(a){$("#wrap-main").html(a)},error:function(a){alert("読み込みに失敗しました。画面をリロードしてください")},complete:function(){scrollToPageTop(e);$("#wrap-main").fadeIn('fast');$("#wrap-term-selectors").find("a").button('complete');window.history.pushState(null,null,c)}})})}$("#wrap-list-years").find("a").click(function(){$("#wrap-list-months").find(".selected").removeClass("selected btn-primary");$("#wrap-list-days").find(".selected").removeClass("selected btn-primary");$(this).addClass("selected btn-primary")});$("#wrap-list-months").find("a").click(function(){$("#wrap-list-days").find(".selected").removeClass("selected btn-primary");$(this).addClass("selected btn-primary")});$("#wrap-list-days").find("a").click(function(){$("#wrap-list-days").find(".selected").removeClass("selected btn-primary");$(this).addClass("selected btn-primary")})});
